# Bean Scope

- By default Bean is a singleton

In the example below, the instances of `binarySearch` and `binarySearch1` is the same.

```JAVA
@SpringBootApplication
public class SpringIn5StepsApplication {

	public static void main(String[] args) {
		ApplicationContext applicationContext = SpringApplication.run(SpringIn5StepsApplication.class, args);
		BinarySearchImpl binarySearch = applicationContext.getBean(BinarySearchImpl.class);
		BinarySearchImpl binarySearch1 = applicationContext.getBean(BinarySearchImpl.class);

		System.out.println(binarySearch);
		System.out.println(binarySearch1);
		int result = binarySearch.binarySearch(new int[] {12,4,6}, 3);
		System.out.println(result);
	}
}
```

## Scopes

- singleton - One instance per Spring Context.
- prototype - New bean whenever requested.
- request - One bean per HTTP request.
- session - One bean per HTTP session.

To generate new instances of the `BinarySearchImpl` we can change the scope for the class using `@scope("prototype")`. If we run the application with these annotation we will get new instance of the class each time it is called.

```JAVA
@Component
// @Scope("prototype") // Hard coding 'prototype' this way is not recommended
@Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)
public class BinarySearchImpl {
//    // Autowire by interface
//    @Autowired
//    private SortAlgorithm sortAlgorithm;
//
//    // Autowire by name
//    @Autowired
//    private SortAlgorithm BubbleSortAlgorithm;

    // Autowire by Qualifier
    @Autowired
    @Qualifier("quick")
    private SortAlgorithm sortAlgorithm;

    public int binarySearch(int[] numbers, int numberToSearchFor) {
        int[] sortedNumbers = sortAlgorithm.sort(numbers);
        System.out.println(sortAlgorithm);
        return 3;
    }
}
```

# Proxy Mode

When there is an instance of singleton bean reaquring to call a prototype bean a proxy should be used so that each time a new instance is called the proxy triggers the new instance.

